"use strict";(self.webpackChunkbellavista_care_homes=self.webpackChunkbellavista_care_homes||[]).push([[83],{2555:(e,r,o)=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function i(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,r||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function a(e,r,o){return(r=i(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function n(e,r){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,t)}return o}function s(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach(function(r){a(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}o.d(r,{A:()=>s})},8083:(e,r,o)=>{o.r(r),o.d(r,{default:()=>n});var t=o(2555),i=o(9950),a=o(4414);const n=()=>{const[e,r]=(0,i.useState)({firstName:"",lastName:"",email:"",phone:"",tourDate:"",tourTime:"",homeLocation:"",notes:""}),[o,n]=(0,i.useState)(!1),[s,l]=(0,i.useState)(""),[c,d]=(0,i.useState)({}),[p,m]=(0,i.useState)(!1),x=e=>{const{name:o,value:i}=e.target;r(e=>(0,t.A)((0,t.A)({},e),{},{[o]:i}))};return(0,a.jsx)("section",{style:{padding:"60px 0",background:"var(--bg-light)"},children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"tour-container",children:o?(0,a.jsxs)("div",{className:"booking-success",style:{textAlign:"center",background:"white",padding:"60px 40px",borderRadius:"15px",boxShadow:"var(--shadow)",maxWidth:"500px",margin:"0 auto"},children:[(0,a.jsx)("i",{className:"fas fa-check-circle",style:{fontSize:"48px",color:"var(--primary-green)",marginBottom:"20px"}}),(0,a.jsx)("h3",{children:"Tour Scheduled Successfully!"}),(0,a.jsx)("p",{children:"Your booking ID is:"}),(0,a.jsx)("div",{className:"booking-id",style:{background:"var(--bg-light)",padding:"15px",borderRadius:"8px",fontWeight:"700",fontSize:"18px",margin:"20px 0"},children:s}),(0,a.jsx)("p",{style:{marginTop:"20px"},children:"We'll contact you within 24 hours to confirm your tour details."}),(0,a.jsx)("button",{className:"btn",onClick:()=>{window.location.href="/"},style:{marginTop:"20px",background:"var(--gradient)",color:"white",border:"none",padding:"14px 32px",borderRadius:"30px",fontWeight:"700"},children:"Return to Home"})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"section-title",children:"Schedule a Tour"}),(0,a.jsx)("p",{style:{textAlign:"center",marginBottom:"30px",color:"var(--text-medium)"},children:"Book a personalized tour of our facilities and meet our caring staff."}),(0,a.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),d({}),m(!0);try{const r=await fetch("http://localhost:8000/api/tours/book/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:e.firstName,last_name:e.lastName,email:e.email,phone_number:e.phone,preferred_home:e.homeLocation||"cardiff",preferred_date:e.tourDate,preferred_time:e.tourTime,notes:e.notes})}),o=await r.json();o.success?(l(o.booking_id),n(!0)):d(o.errors||{general:o.message||"Failed to submit booking"})}catch(o){console.error("Error submitting booking:",o),d({general:"Failed to connect to server. Please try again."})}finally{m(!1)}},style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"40px",borderRadius:"15px",boxShadow:"var(--shadow)"},children:[c.general&&(0,a.jsx)("div",{style:{background:"#fee",color:"#c33",padding:"10px",borderRadius:"5px",marginBottom:"20px",border:"1px solid #fcc"},children:c.general}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"First Name *"}),(0,a.jsx)("input",{type:"text",name:"firstName",className:"form-control",value:e.firstName,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.first_name?"#e74c3c":"#e0e0e0"),borderRadius:"8px"},required:!0}),c.first_name&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.first_name[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Last Name"}),(0,a.jsx)("input",{type:"text",name:"lastName",className:"form-control",value:e.lastName,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.last_name?"#e74c3c":"#e0e0e0"),borderRadius:"8px"}}),c.last_name&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.last_name[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Email Address *"}),(0,a.jsx)("input",{type:"email",name:"email",className:"form-control",value:e.email,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.email?"#e74c3c":"#e0e0e0"),borderRadius:"8px"},required:!0}),c.email&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.email[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Phone Number *"}),(0,a.jsx)("input",{type:"tel",name:"phone",className:"form-control",value:e.phone,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.phone_number?"#e74c3c":"#e0e0e0"),borderRadius:"8px"},required:!0}),c.phone_number&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.phone_number[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Preferred Tour Date *"}),(0,a.jsx)("input",{type:"date",name:"tourDate",className:"form-control",value:e.tourDate,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.preferred_date?"#e74c3c":"#e0e0e0"),borderRadius:"8px"},required:!0}),c.preferred_date&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.preferred_date[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Preferred Time *"}),(0,a.jsxs)("select",{name:"tourTime",className:"form-control",value:e.tourTime,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid ".concat(c.preferred_time?"#e74c3c":"#e0e0e0"),borderRadius:"8px"},required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a time"}),(0,a.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,a.jsx)("option",{value:"10:00",children:"10:00 AM"}),(0,a.jsx)("option",{value:"11:00",children:"11:00 AM"}),(0,a.jsx)("option",{value:"14:00",children:"2:00 PM"}),(0,a.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,a.jsx)("option",{value:"16:00",children:"4:00 PM"})]}),c.preferred_time&&(0,a.jsx)("div",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"5px"},children:c.preferred_time[0]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Location *"}),(0,a.jsxs)("select",{name:"homeLocation",className:"form-control",value:e.homeLocation,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid #e0e0e0",borderRadius:"8px"},required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select location"}),(0,a.jsx)("option",{value:"cardiff",children:"Cardiff"}),(0,a.jsx)("option",{value:"barry",children:"Barry"}),(0,a.jsx)("option",{value:"waverley",children:"Waverley"}),(0,a.jsx)("option",{value:"college-fields",children:"College Fields"})]})]}),(0,a.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,a.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"600"},children:"Notes"}),(0,a.jsx)("textarea",{name:"notes",className:"form-control",rows:"3",placeholder:"Any specific requirements or questions...",value:e.notes,onChange:x,style:{width:"100%",padding:"12px 15px",border:"2px solid #e0e0e0",borderRadius:"8px",resize:"vertical"}})]}),(0,a.jsx)("button",{type:"submit",className:"btn",disabled:p,style:{width:"100%",marginTop:"20px",background:p?"#ccc":"var(--gradient)",color:"white",border:"none",padding:"14px 32px",borderRadius:"30px",fontWeight:"700",cursor:p?"not-allowed":"pointer"},children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"})," Submitting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-calendar-check"})," Schedule Tour"]})})]})]})})})})}}}]);